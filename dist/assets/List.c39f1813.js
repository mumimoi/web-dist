import{cA as k,b as $,e as t,ad as u,K as y,aI as h,cS as m,r as f,aK as w,S as j,c1 as x,au as A,ak as S,at as C,b1 as i,c5 as v,cl as p,ac as I,l as O,a as P,k as b,w as z,cT as M,cU as D,cV as E,D as d,E as L,a0 as T,a3 as B}from"./index.e6b109ad.js";import{b as H}from"./Folder.1113523c.js";import{u as K}from"./index.ef7795e4.js";import{q as _}from"./index.be96b7c7.js";import{g as F,O as R}from"./icon.7ca75330.js";import"./Layout.a80467c8.js";import"./index.875554e3.js";import"./FolderTree.be18ecf2.js";import"./video_box.a1c7d81d.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./Paginator.16eb0594.js";import"./index.3dd38b33.js";const n=[{name:"name",textAlign:"left",w:{"@initial":"76%","@md":"50%"}},{name:"size",textAlign:"right",w:{"@initial":"24%","@md":"17%"}},{name:"modified",textAlign:"right",w:{"@initial":0,"@md":"33%"}}],U=e=>{const{isHide:o}=k();if(o(e.obj))return null;const{setPathAs:g}=K(),{show:s}=H({id:1}),{pushHref:c,to:l}=$(),a=()=>O.filename_scrollable==="true";return t(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return t(u,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:y()}},as:_,get href(){return e.obj.name},"on:click":r=>{if(!!h()){if(r.preventDefault(),r.altKey){l(c(e.obj.name));return}m(e.index,!e.obj.selected)}},onMouseEnter:()=>{g(e.obj.name,e.obj.is_dir,!0)},onContextMenu:r=>{f(()=>{w(!1),m(e.index,!0,!0)}),s(r,{props:e.obj})},get children(){return[t(u,{class:"name-box",spacing:"$1",get w(){return n[0].w},get children(){return[t(j,{get when(){return h()},get children(){return t(x,{"on:click":r=>{r.stopPropagation()},get checked(){return e.obj.selected},onChange:r=>{m(e.index,r.target.checked)}})}}),t(A,{class:"icon",boxSize:"$6",get color(){return S()},get as(){return F(e.obj)},mr:"$1","on:click":r=>{e.obj.type===R.IMAGE&&(r.stopPropagation(),r.preventDefault(),C.emit("gallery",e.obj.name))}}),t(i,{class:"name",get css(){return{whiteSpace:"nowrap","overflow-x":a()?"auto":"hidden",textOverflow:a()?"unset":"ellipsis","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}}},get title(){return e.obj.name},get children(){return e.obj.name}})]}}),t(i,{class:"size",get w(){return n[1].w},get textAlign(){return n[1].textAlign},get children(){return v(e.obj.size)}}),t(i,{class:"modified",display:{"@initial":"none","@md":"inline"},get w(){return n[2].w},get textAlign(){return n[2].textAlign},get children(){return p(e.obj.modified)}})]}})}})},ne=()=>{const e=P(),[o,g]=b(),[s,c]=b(!1);z(()=>{o()&&M(o(),s())});const l=a=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:a.textAlign,cursor:"pointer",onClick:()=>{a.name===o()?c(!s()):f(()=>{g(a.name),c(!1)})}});return t(B,{class:"list",w:"$full",spacing:"$1",get children(){return[t(u,{class:"title",w:"$full",p:"$2",get children(){return[t(u,{get w(){return n[0].w},spacing:"$1",get children(){return[t(j,{get when(){return h()},get children(){return t(x,{get checked(){return D()},get indeterminate(){return E()},onChange:a=>{w(a.target.checked)}})}}),t(i,d(()=>l(n[0]),{get children(){return e(`home.obj.${n[0].name}`)}}))]}}),t(i,d({get w(){return n[1].w}},()=>l(n[1]),{get children(){return e(`home.obj.${n[1].name}`)}})),t(i,d({get w(){return n[2].w}},()=>l(n[2]),{display:{"@initial":"none","@md":"inline"},get children(){return e(`home.obj.${n[2].name}`)}}))]}}),t(L,{get each(){return T.objs},children:(a,r)=>t(U,{obj:a,get index(){return r()}})})]}})};export{ne as default};
